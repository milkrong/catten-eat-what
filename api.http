@baseUrl = http://localhost:3000
@clerkToken = 'user_2pblP3xyKDxE9fxO1hmLcGfarK6'

### 健康检查
GET {{baseUrl}}/health
Content-Type: application/json

### 用户认证相关 API ###

### 获取当前用户信息
GET {{baseUrl}}/auth/me
Content-Type: application/json
Authorization: Bearer {{clerkToken}}

### Clerk Webhook - 用户创建回调
# 这个接口通常由 Clerk 服务调用，不需要手动测试
POST {{baseUrl}}/auth/webhook
Content-Type: application/json

{
  "type": "user.created",
  "data": {
    "id": "clerk_user_id",
    "email_addresses": [
      {
        "email_address": "milkrong@gmail.com"
      }
    ],
    "username": "milkrong"
  }
}

### 食谱相关 API ###

### 获取食谱列表
GET {{baseUrl}}/recipes
Content-Type: application/json

### 获取单个食谱
GET {{baseUrl}}/recipes/1
Content-Type: application/json

### 创建食谱（需要认证）
POST {{baseUrl}}/recipes
Content-Type: application/json
Authorization: Bearer {{clerkToken}}

{
  "name": "示例食谱",
  "description": "这是一个示例食谱",
  "ingredients": [
    {
      "name": "食材1",
      "amount": "100g"
    }
  ],
  "steps": [
    {
      "step": 1,
      "description": "步骤1的描述"
    }
  ]
}

### 更新食谱（需要认证）
PUT {{baseUrl}}/recipes/1
Content-Type: application/json
Authorization: Bearer {{clerkToken}}

{
  "name": "更新后的食谱",
  "description": "更新后的描述"
}

### 删除食谱（需要认证）
DELETE {{baseUrl}}/recipes/1
Authorization: Bearer {{clerkToken}}

### 餐饮计划相关 API ###

### 获取用户的餐饮计划（需要认证）
GET {{baseUrl}}/meal-plans
Content-Type: application/json
Authorization: Bearer {{clerkToken}}

### 创建餐饮计划（需要认证）
POST {{baseUrl}}/meal-plans
Content-Type: application/json
Authorization: Bearer {{clerkToken}}

{
  "date": "2023-12-19",
  "meal_type": "lunch",
  "recipe_id": "recipe_1"
}

### 更新餐饮计划（需要认证）
PUT {{baseUrl}}/meal-plans/1
Content-Type: application/json
Authorization: Bearer {{clerkToken}}

{
  "meal_type": "dinner"
}

### 删除餐饮计划（需要认证）
DELETE {{baseUrl}}/meal-plans/1
Authorization: Bearer {{clerkToken}}

### 推荐相关 API ###

### 获取推荐食谱
GET {{baseUrl}}/recommendations
Content-Type: application/json

### 获取个性化推荐（需要认证）
GET {{baseUrl}}/recommendations/personalized
Content-Type: application/json
Authorization: Bearer {{clerkToken}}

### 用户偏好相关 API ###

### 获取用户偏好（需要认证）
GET {{baseUrl}}/users/preferences
Content-Type: application/json
Authorization: Bearer {{clerkToken}}

### 更新用户偏好（需要认证）
PUT {{baseUrl}}/users/preferences
Content-Type: application/json
Authorization: Bearer {{clerkToken}}

{
  "diet_type": ["vegetarian"],
  "allergies": ["peanuts"],
  "calories_min": 500,
  "calories_max": 800,
  "max_cooking_time": 30
}

### 收藏相关 API ###

### 获取收藏的食谱（需要认证）
GET {{baseUrl}}/users/favorites
Content-Type: application/json
Authorization: Bearer {{clerkToken}}

### 添加收藏（需要认证）
POST {{baseUrl}}/users/favorites
Content-Type: application/json
Authorization: Bearer {{clerkToken}}

{
  "recipe_id": "recipe_1"
}

### 取消收藏（需要认证）
DELETE {{baseUrl}}/users/favorites/recipe_1
Authorization: Bearer {{clerkToken}} 